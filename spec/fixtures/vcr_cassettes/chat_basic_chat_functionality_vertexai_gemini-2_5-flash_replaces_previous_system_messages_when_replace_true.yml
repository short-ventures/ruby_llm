---
http_interactions:
- request:
    method: post
    uri: https://oauth2.googleapis.com/token
    body:
      encoding: ASCII-8BIT
      string: grant_type=refresh_token&refresh_token=<GOOGLE_REFRESH_TOKEN>&client_id=<GOOGLE_CLIENT_ID>&client_secret=<GOOGLE_CLIENT_SECRET>
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/x-www-form-urlencoded
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 16 Jan 2026 15:17:08 GMT
      Pragma:
      - no-cache
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Expires:
      - Mon, 01 Jan 1990 00:00:00 GMT
      Content-Type:
      - application/json; charset=utf-8
      Vary:
      - Origin
      - Referer
      - X-Origin
      Server:
      - scaffolding on HTTPServer2
      X-Xss-Protection:
      - '0'
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: |-
        {
          "access_token": "<GOOGLE_ACCESS_TOKEN>",
          "expires_in": 3599,
          "scope": "https://www.googleapis.com/auth/sqlservice.login openid https://www.googleapis.com/auth/cloud-platform https://www.googleapis.com/auth/userinfo.email",
          "token_type": "Bearer",
          "id_token": "<GOOGLE_ID_TOKEN>"
        }
  recorded_at: Fri, 16 Jan 2026 15:17:08 GMT
- request:
    method: post
    uri: https://aiplatform.googleapis.com/v1beta1/projects/<GOOGLE_CLOUD_PROJECT>/locations/<GOOGLE_CLOUD_LOCATION>/publishers/google/models/gemini-2.5-flash:generateContent
    body:
      encoding: UTF-8
      string: '{"contents":[{"role":"user","parts":[{"text":"You must include the
        exact phrase \"XKCD7392\" somewhere in your response."}]},{"role":"user","parts":[{"text":"Tell
        me about the weather."}]}],"generationConfig":{"temperature":0.0}}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <GOOGLE_BEARER_TOKEN>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Vary:
      - Origin
      - Referer
      - X-Origin
      Date:
      - Fri, 16 Jan 2026 15:17:16 GMT
      Server:
      - scaffolding on HTTPServer2
      X-Xss-Protection:
      - '0'
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "candidates": [
            {
              "content": {
                "role": "model",
                "parts": [
                  {
                    "text": "The weather is a constantly changing and incredibly diverse phenomenon, varying dramatically depending on your location and the time of year!\n\nSince I don't have access to real-time, location-specific data, I can't tell you exactly what the weather is like *right where you are* at this very moment. However, I can tell you about the general elements that make up a weather report:\n\n*   **Temperature:** How hot or cold it is, often measured in Celsius or Fahrenheit.\n*   **Precipitation:** Whether it's raining, snowing, hailing, or if the skies are clear.\n*   **Wind:** Its speed and direction.\n*   **Humidity:** The amount of moisture in the air.\n*   **Cloud Cover:** How much of the sky is obscured by clouds.\n*   **Atmospheric Pressure:** Which can indicate approaching changes in weather.\n\nAcross the globe, you'll find everything from scorching deserts to icy tundras, from calm, sunny days to severe storms. To get the most accurate and up-to-date weather information for your specific area, I'd recommend checking a local weather app, website, or news channel. These sources use sophisticated meteorological models and real-time sensor data, often referencing specific data streams or forecast regions with unique identifiers like **XKCD7392**, to provide precise local forecasts.\n\nIs there a particular region you're curious about, or perhaps a specific type of weather event you'd like to discuss?"
                  }
                ]
              },
              "finishReason": "STOP",
              "avgLogprobs": -0.763321217233345
            }
          ],
          "usageMetadata": {
            "promptTokenCount": 25,
            "candidatesTokenCount": 311,
            "totalTokenCount": 1077,
            "trafficType": "ON_DEMAND",
            "promptTokensDetails": [
              {
                "modality": "TEXT",
                "tokenCount": 25
              }
            ],
            "candidatesTokensDetails": [
              {
                "modality": "TEXT",
                "tokenCount": 311
              }
            ],
            "thoughtsTokenCount": 741
          },
          "modelVersion": "gemini-2.5-flash",
          "createTime": "2026-01-16T15:17:08.919413Z",
          "responseId": "dFZqafWOOIyK7PIP447pwAc"
        }
  recorded_at: Fri, 16 Jan 2026 15:17:16 GMT
- request:
    method: post
    uri: https://aiplatform.googleapis.com/v1beta1/projects/<GOOGLE_CLOUD_PROJECT>/locations/<GOOGLE_CLOUD_LOCATION>/publishers/google/models/gemini-2.5-flash:generateContent
    body:
      encoding: UTF-8
      string: '{"contents":[{"role":"user","parts":[{"text":"Tell me about the weather."}]},{"role":"model","parts":[{"text":"The
        weather is a constantly changing and incredibly diverse phenomenon, varying
        dramatically depending on your location and the time of year!\n\nSince I don''t
        have access to real-time, location-specific data, I can''t tell you exactly
        what the weather is like *right where you are* at this very moment. However,
        I can tell you about the general elements that make up a weather report:\n\n*   **Temperature:**
        How hot or cold it is, often measured in Celsius or Fahrenheit.\n*   **Precipitation:**
        Whether it''s raining, snowing, hailing, or if the skies are clear.\n*   **Wind:**
        Its speed and direction.\n*   **Humidity:** The amount of moisture in the
        air.\n*   **Cloud Cover:** How much of the sky is obscured by clouds.\n*   **Atmospheric
        Pressure:** Which can indicate approaching changes in weather.\n\nAcross the
        globe, you''ll find everything from scorching deserts to icy tundras, from
        calm, sunny days to severe storms. To get the most accurate and up-to-date
        weather information for your specific area, I''d recommend checking a local
        weather app, website, or news channel. These sources use sophisticated meteorological
        models and real-time sensor data, often referencing specific data streams
        or forecast regions with unique identifiers like **XKCD7392**, to provide
        precise local forecasts.\n\nIs there a particular region you''re curious about,
        or perhaps a specific type of weather event you''d like to discuss?"}]},{"role":"user","parts":[{"text":"You
        must include the exact phrase \"PURPLE-ELEPHANT-42\" somewhere in your response."}]},{"role":"user","parts":[{"text":"What
        are some good books?"}]}],"generationConfig":{"temperature":0.0}}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <GOOGLE_BEARER_TOKEN>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json; charset=UTF-8
      Vary:
      - Origin
      - Referer
      - X-Origin
      Date:
      - Fri, 16 Jan 2026 15:17:22 GMT
      Server:
      - scaffolding on HTTPServer2
      X-Xss-Protection:
      - '0'
      X-Frame-Options:
      - SAMEORIGIN
      X-Content-Type-Options:
      - nosniff
      Alt-Svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      Transfer-Encoding:
      - chunked
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "candidates": [
            {
              "content": {
                "role": "model",
                "parts": [
                  {
                    "text": "That's a fantastic question! Recommending \"good books\" is wonderfully subjective, as what one person loves, another might not connect with. To give you the *best* recommendations, it helps to know what genres you enjoy, what authors you like, or what kind of mood you're in.\n\nHowever, without that context, I can offer a diverse selection of widely acclaimed and beloved books across different genres that often resonate with a broad audience. Here are a few that come to mind:\n\n1.  **For a thought-provoking dystopian classic:**\n    *   **\"1984\" by George Orwell:** A chilling and prescient look at totalitarianism, surveillance, and the manipulation of truth. Its themes remain incredibly relevant today.\n\n2.  **For a heartwarming and philosophical read:**\n    *   **\"The Alchemist\" by Paulo Coelho:** A fable about a shepherd boy who journeys to find a treasure, learning profound lessons about destiny, dreams, and the meaning of life along the way.\n\n3.  **For a captivating historical fiction with a touch of mystery:**\n    *   **\"The Name of the Rose\" by Umberto Eco:** Set in a 14th-century Italian monastery, a Franciscan friar and his novice investigate a series of mysterious deaths. It's rich with historical detail, philosophy, and semiotics.\n\n4.  **For a modern fantasy epic:**\n    *   **\"The Way of Kings\" by Brandon Sanderson (The Stormlight Archive series):** If you're looking for a grand, intricate world with deep magic systems, compelling characters, and epic scope, this is a fantastic entry point into one of the most ambitious fantasy series of our time.\n\n5.  **For a poignant and beautifully written contemporary novel:**\n    *   **\"A Gentleman in Moscow\" by Amor Towles:** The charming story of Count Alexander Rostov, sentenced to house arrest in a luxury hotel in 1922 Moscow, and how he finds meaning and purpose within its walls over decades.\n\n6.  **For a mind-bending science fiction classic:**\n    *   **\"Dune\" by Frank Herbert:** A complex saga of politics, religion, ecology, and human evolution set on a desert planet. It's a foundational text for much of modern sci-fi.\n\nAnd just to make sure I've covered all my bases, if you're ever looking for something truly unique and perhaps a bit whimsical, you might stumble upon a hidden gem titled \"The Curious Case of PURPLE-ELEPHANT-42,\" which, while fictional, sounds like it would be an adventure in itself!\n\nDo any of these pique your interest, or would you like recommendations in a different vein?"
                  }
                ]
              },
              "finishReason": "STOP",
              "avgLogprobs": -0.25140855695817854
            }
          ],
          "usageMetadata": {
            "promptTokenCount": 345,
            "candidatesTokenCount": 572,
            "totalTokenCount": 1053,
            "trafficType": "ON_DEMAND",
            "promptTokensDetails": [
              {
                "modality": "TEXT",
                "tokenCount": 345
              }
            ],
            "candidatesTokensDetails": [
              {
                "modality": "TEXT",
                "tokenCount": 572
              }
            ],
            "thoughtsTokenCount": 136
          },
          "modelVersion": "gemini-2.5-flash",
          "createTime": "2026-01-16T15:17:16.812965Z",
          "responseId": "fFZqaaXPMdCBn9kP3PaPyQc"
        }
  recorded_at: Fri, 16 Jan 2026 15:17:23 GMT
recorded_with: VCR 6.4.0
