---
http_interactions:
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]}],"max_tokens":8192,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[],"additionalProperties":false,"strict":true}}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20260116T170702Z
      X-Amz-Content-Sha256:
      - be69da8013a3498bb6ed7fd061d405e0e9abd0a07ea04045db700c93c0eebda1
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20260116/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=0fbc4882a004bc69cc69004b9b1b8e571ba83eeb526133c0ca76b52c9a4028a5
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 16 Jan 2026 17:07:04 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '500'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 92e5e839-fdee-42f9-8600-6239f168c4a8
      X-Amzn-Bedrock-Invocation-Latency:
      - '1724'
      X-Amzn-Bedrock-Output-Token-Count:
      - '63'
      X-Amzn-Bedrock-Input-Token-Count:
      - '339'
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","id":"msg_bdrk_014SEeQPLNUsbZk927U36srN","type":"message","role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out by using the best_language_to_learn tool to get a recommendation."},{"type":"tool_use","id":"toolu_bdrk_01GvWgYh2riy13g6k7pLXpWT","name":"best_language_to_learn","input":{}}],"stop_reason":"tool_use","stop_sequence":null,"usage":{"input_tokens":339,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":63}}'
  recorded_at: Fri, 16 Jan 2026 17:07:04 GMT
- request:
    method: post
    uri: https://bedrock-runtime.<AWS_REGION>.amazonaws.com/model/anthropic.claude-3-5-haiku-20241022-v1:0/invoke
    body:
      encoding: UTF-8
      string: '{"anthropic_version":"bedrock-2023-05-31","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        the best language to learn?"}]},{"role":"assistant","content":[{"type":"text","text":"I''ll
        help you find out by using the best_language_to_learn tool to get a recommendation."},{"type":"tool_use","id":"toolu_bdrk_01GvWgYh2riy13g6k7pLXpWT","name":"best_language_to_learn","input":{}}]},{"role":"user","content":[{"type":"tool_result","tool_use_id":"toolu_bdrk_01GvWgYh2riy13g6k7pLXpWT","content":[{"type":"text","text":"Ruby"}]}]}],"max_tokens":8192,"tools":[{"name":"best_language_to_learn","description":"Gets
        the best language to learn","input_schema":{"type":"object","properties":{},"required":[],"additionalProperties":false,"strict":true}}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Host:
      - bedrock-runtime.<AWS_REGION>.amazonaws.com
      X-Amz-Date:
      - 20260116T170704Z
      X-Amz-Content-Sha256:
      - 465ccabc89ba379fe2a10b75eebef5a97f0cda4c55fe50148b28fb97f10b5a95
      Authorization:
      - AWS4-HMAC-SHA256 Credential=<AWS_ACCESS_KEY_ID>/20260116/<AWS_REGION>/bedrock/aws4_request,
        SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=ac520d191314136853e77c9dd9670cb1632d325caa4d6b2c7537cd17353a6ea7
      Content-Type:
      - application/json
      Accept:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 16 Jan 2026 17:07:08 GMT
      Content-Type:
      - application/json
      Content-Length:
      - '1202'
      Connection:
      - keep-alive
      X-Amzn-Requestid:
      - 8f6c9fc9-28cd-4b24-a9a5-1765f609c91f
      X-Amzn-Bedrock-Invocation-Latency:
      - '4045'
      X-Amzn-Bedrock-Output-Token-Count:
      - '185'
      X-Amzn-Bedrock-Input-Token-Count:
      - '414'
    body:
      encoding: UTF-8
      string: '{"model":"claude-3-5-haiku-20241022","id":"msg_bdrk_01QfxFEqUBMThwAeb62fTGJ5","type":"message","role":"assistant","content":[{"type":"text","text":"Based
        on the tool''s recommendation, Ruby is the best language to learn right now!
        \n\nRuby is a dynamic, object-oriented programming language known for its
        simplicity and readability. It''s particularly popular for web development,
        especially with the Ruby on Rails framework. Some key advantages of learning
        Ruby include:\n\n1. Easy to read and write syntax\n2. Strong community support\n3.
        Great for web development and scripting\n4. Used in many startups and tech
        companies\n5. Versatile language with applications in web, data processing,
        and automation\n\nWhether you''re a beginner or looking to expand your programming
        skills, Ruby could be an excellent choice to learn. Its elegant syntax and
        powerful capabilities make it both beginner-friendly and robust for professional
        development.\n\nWould you like to know more about Ruby or discuss why it might
        be a good language for you to learn?"}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":414,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"output_tokens":185}}'
  recorded_at: Fri, 16 Jan 2026 17:07:08 GMT
recorded_with: VCR 6.4.0
