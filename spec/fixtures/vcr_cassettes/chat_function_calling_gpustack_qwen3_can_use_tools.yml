---
http_interactions:
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin? (52.5200, 13.4050)"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 16 Jan 2026 17:05:20 GMT
      - Fri, 16 Jan 2026 17:05:20 GMT
      Server:
      - uvicorn
      - uvicorn
      Keep-Alive:
      - timeout=15, max=100
      Content-Length:
      - '1584'
      Content-Type:
      - application/json
      X-Request-Accepted-At:
      - "<X_REQUEST_ID>"
      X-Request-Id:
      - "<X_REQUEST_ID>"
      Access-Control-Allow-Origin:
      - "*"
    body:
      encoding: UTF-8
      string: '{"choices":[{"finish_reason":"tool_calls","index":0,"message":{"content":null,"reasoning_content":"\nOkay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to check if I can answer this
        using the available tools. The tool provided is the ''weather'' function,
        which requires latitude and longitude as parameters. Since the user has already
        given the exact coordinates, I should call the weather function with those
        values. There''s no need to ask for more information. I''ll structure the
        tool call correctly, making sure the parameters are in the right format. Let
        me double-check the function''s required parameters: both latitude and longitude
        are required and must be strings. The user''s input matches that, so I can
        proceed to generate the tool call.\n","role":"assistant","tool_calls":[{"function":{"arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}","name":"weather"},"id":"call-qb06lsGo8649XmFDxmJNC0pSD0ooN3Xz","type":"function"}]}}],"created":1768583122,"id":"chatcmpl-26S1b6LnDPhrnONjawSUEK8HA2UVd689","model":"qwen3","object":"chat.completion","usage":{"completion_tokens":195,"completion_tokens_details":{"accepted_prediction_tokens":0,"reasoning_tokens":157,"rejected_prediction_tokens":0},"draft_tokens":0,"draft_tokens_acceptance":0.0,"prompt_tokens":269,"prompt_tokens_details":{"cached_tokens":0},"prompt_tokens_per_second":3635.773852163218,"time_per_output_token_ms":8.232758974358974,"time_to_first_token_ms":73.987,"tokens_per_second":121.46596336835707,"total_tokens":464}}'
  recorded_at: Fri, 16 Jan 2026 17:05:22 GMT
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin? (52.5200, 13.4050)"},{"role":"assistant","tool_calls":[{"id":"call-qb06lsGo8649XmFDxmJNC0pSD0ooN3Xz","type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}"}}],"reasoning":"\nOkay,
        the user is asking for the weather in Berlin, and they provided the coordinates
        52.5200 latitude and 13.4050 longitude. I need to check if I can answer this
        using the available tools. The tool provided is the ''weather'' function,
        which requires latitude and longitude as parameters. Since the user has already
        given the exact coordinates, I should call the weather function with those
        values. There''s no need to ask for more information. I''ll structure the
        tool call correctly, making sure the parameters are in the right format. Let
        me double-check the function''s required parameters: both latitude and longitude
        are required and must be strings. The user''s input matches that, so I can
        proceed to generate the tool call.\n","reasoning_content":"\nOkay, the user
        is asking for the weather in Berlin, and they provided the coordinates 52.5200
        latitude and 13.4050 longitude. I need to check if I can answer this using
        the available tools. The tool provided is the ''weather'' function, which
        requires latitude and longitude as parameters. Since the user has already
        given the exact coordinates, I should call the weather function with those
        values. There''s no need to ask for more information. I''ll structure the
        tool call correctly, making sure the parameters are in the right format. Let
        me double-check the function''s required parameters: both latitude and longitude
        are required and must be strings. The user''s input matches that, so I can
        proceed to generate the tool call.\n"},{"role":"tool","content":"Current weather
        at 52.5200, 13.4050: 15Â°C, Wind: 10 km/h","tool_call_id":"call-qb06lsGo8649XmFDxmJNC0pSD0ooN3Xz"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 16 Jan 2026 17:05:22 GMT
      - Fri, 16 Jan 2026 17:05:22 GMT
      Server:
      - uvicorn
      - uvicorn
      Keep-Alive:
      - timeout=15, max=100
      Content-Length:
      - '1287'
      Content-Type:
      - application/json
      X-Request-Accepted-At:
      - "<X_REQUEST_ID>"
      X-Request-Id:
      - "<X_REQUEST_ID>"
      Access-Control-Allow-Origin:
      - "*"
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJjaG9pY2VzIjpbeyJmaW5pc2hfcmVhc29uIjoic3RvcCIsImluZGV4IjowLCJtZXNzYWdlIjp7ImNvbnRlbnQiOiJcblxuVGhlIGN1cnJlbnQgd2VhdGhlciBpbiBCZXJsaW4gKDUyLjUyMDAsIDEzLjQwNTApIGlzIDE1wrBDIHdpdGggd2luZCBzcGVlZHMgb2YgMTAga20vaC4iLCJyZWFzb25pbmdfY29udGVudCI6IlxuT2theSwgdGhlIHVzZXIgYXNrZWQgZm9yIHRoZSB3ZWF0aGVyIGluIEJlcmxpbiB3aXRoIHRoZSBjb29yZGluYXRlcyBwcm92aWRlZC4gSSBjYWxsZWQgdGhlIHdlYXRoZXIgZnVuY3Rpb24gd2l0aCB0aG9zZSBjb29yZGluYXRlcy4gVGhlIHJlc3BvbnNlIGNhbWUgYmFjayBhcyAxNcKwQyBhbmQgd2luZCBhdCAxMCBrbS9oLiBOb3cgSSBuZWVkIHRvIHByZXNlbnQgdGhpcyBpbmZvcm1hdGlvbiBjbGVhcmx5LiBMZXQgbWUgY2hlY2sgaWYgdGhlcmUncyBhbnkgYWRkaXRpb25hbCBkZXRhaWxzIG5lZWRlZCwgYnV0IHRoZSB1c2VyIGp1c3Qgd2FudGVkIHRoZSBjdXJyZW50IHdlYXRoZXIuIEkgc2hvdWxkIHN0YXRlIHRoZSB0ZW1wZXJhdHVyZSBhbmQgd2luZCBzcGVlZCBpbiBhIGZyaWVuZGx5IG1hbm5lci4gTWF5YmUgbWVudGlvbiBCZXJsaW4gaW4gdGhlIGFuc3dlciB0byBiZSBzcGVjaWZpYy4gQWxyaWdodCwgdGhhdCdzIGFsbCB0aGUgaW5mbyBmcm9tIHRoZSB0b29sLCBzbyBJJ2xsIGZvcm1hdCBpdCBzaW1wbHkuXG4iLCJyb2xlIjoiYXNzaXN0YW50In19XSwiY3JlYXRlZCI6MTc2ODU4MzEyNCwiaWQiOiJjaGF0Y21wbC1SRTNUSGU5cWNVTzFGTDVNUWZzREt3alVIYXNnejBYWiIsIm1vZGVsIjoicXdlbjMiLCJvYmplY3QiOiJjaGF0LmNvbXBsZXRpb24iLCJ1c2FnZSI6eyJjb21wbGV0aW9uX3Rva2VucyI6MTU1LCJjb21wbGV0aW9uX3Rva2Vuc19kZXRhaWxzIjp7ImFjY2VwdGVkX3ByZWRpY3Rpb25fdG9rZW5zIjowLCJyZWFzb25pbmdfdG9rZW5zIjoxMTQsInJlamVjdGVkX3ByZWRpY3Rpb25fdG9rZW5zIjowfSwiZHJhZnRfdG9rZW5zIjowLCJkcmFmdF90b2tlbnNfYWNjZXB0YW5jZSI6MC4wLCJwcm9tcHRfdG9rZW5zIjozNDIsInByb21wdF90b2tlbnNfZGV0YWlscyI6eyJjYWNoZWRfdG9rZW5zIjoyNjh9LCJwcm9tcHRfdG9rZW5zX3Blcl9zZWNvbmQiOjEzODA4LjY5NzA1NjU2NzIwNywidGltZV9wZXJfb3V0cHV0X3Rva2VuX21zIjo4LjMzMjU3NDE5MzU0ODM4NywidGltZV90b19maXJzdF90b2tlbl9tcyI6MjQuNzY3LCJ0b2tlbnNfcGVyX3NlY29uZCI6MTIwLjAxMDkzMjYwODgyODYzLCJ0b3RhbF90b2tlbnMiOjQ5N319
  recorded_at: Fri, 16 Jan 2026 17:05:24 GMT
recorded_with: VCR 6.4.0
