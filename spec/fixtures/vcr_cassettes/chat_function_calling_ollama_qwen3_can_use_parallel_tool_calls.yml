---
http_interactions:
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin (52.5200, 13.4050) and what''s the best language to learn?"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}},{"type":"function","function":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","parameters":{"type":"object","properties":{},"required":[],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 16 Jan 2026 17:05:57 GMT
      Content-Length:
      - '1310'
    body:
      encoding: UTF-8
      string: '{"id":"chatcmpl-447","object":"chat.completion","created":1768583157,"model":"qwen3","system_fingerprint":"fp_ollama","choices":[{"index":0,"message":{"role":"assistant","content":"","reasoning":"Okay,
        let''s see. The user is asking two things: the weather in Berlin with specific
        coordinates and the best language to learn. First, I need to check the available
        functions. There''s a weather function that requires latitude and longitude,
        which the user provided as 52.5200 and 13.4050. So I can call that directly.
        Then, there''s the best_language_to_learn function, which doesn''t need any
        parameters. Since the user is asking for both pieces of information, I should
        make two separate tool calls. I''ll structure the first tool call with the
        weather function using the given coordinates and the second tool call for
        the best language function without any arguments. Make sure the JSON formatting
        is correct for each tool call.\n","tool_calls":[{"id":"call_x3et69oi","index":0,"type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}"}},{"id":"call_7dq6heoq","index":1,"type":"function","function":{"name":"best_language_to_learn","arguments":"{}"}}]},"finish_reason":"tool_calls"}],"usage":{"prompt_tokens":247,"completion_tokens":215,"total_tokens":462}}

        '
  recorded_at: Fri, 16 Jan 2026 17:05:57 GMT
- request:
    method: post
    uri: "<OLLAMA_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":"What''s the
        weather in Berlin (52.5200, 13.4050) and what''s the best language to learn?"},{"role":"assistant","content":"","tool_calls":[{"id":"call_x3et69oi","type":"function","function":{"name":"weather","arguments":"{\"latitude\":\"52.5200\",\"longitude\":\"13.4050\"}"}},{"id":"call_7dq6heoq","type":"function","function":{"name":"best_language_to_learn","arguments":"{}"}}],"reasoning":"Okay,
        let''s see. The user is asking two things: the weather in Berlin with specific
        coordinates and the best language to learn. First, I need to check the available
        functions. There''s a weather function that requires latitude and longitude,
        which the user provided as 52.5200 and 13.4050. So I can call that directly.
        Then, there''s the best_language_to_learn function, which doesn''t need any
        parameters. Since the user is asking for both pieces of information, I should
        make two separate tool calls. I''ll structure the first tool call with the
        weather function using the given coordinates and the second tool call for
        the best language function without any arguments. Make sure the JSON formatting
        is correct for each tool call.\n","reasoning_content":"Okay, let''s see. The
        user is asking two things: the weather in Berlin with specific coordinates
        and the best language to learn. First, I need to check the available functions.
        There''s a weather function that requires latitude and longitude, which the
        user provided as 52.5200 and 13.4050. So I can call that directly. Then, there''s
        the best_language_to_learn function, which doesn''t need any parameters. Since
        the user is asking for both pieces of information, I should make two separate
        tool calls. I''ll structure the first tool call with the weather function
        using the given coordinates and the second tool call for the best language
        function without any arguments. Make sure the JSON formatting is correct for
        each tool call.\n"},{"role":"tool","content":"Current weather at 52.5200,
        13.4050: 15Â°C, Wind: 10 km/h","tool_call_id":"call_x3et69oi"},{"role":"tool","content":"Ruby","tool_call_id":"call_7dq6heoq"}],"stream":false,"tools":[{"type":"function","function":{"name":"weather","description":"Gets
        current weather for a location","parameters":{"type":"object","properties":{"latitude":{"type":"string","description":"Latitude
        (e.g., 52.5200)"},"longitude":{"type":"string","description":"Longitude (e.g.,
        13.4050)"}},"required":["latitude","longitude"],"additionalProperties":false,"strict":true}}},{"type":"function","function":{"name":"best_language_to_learn","description":"Gets
        the best language to learn","parameters":{"type":"object","properties":{},"required":[],"additionalProperties":false,"strict":true}}}],"enable_thinking":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 16 Jan 2026 17:05:59 GMT
      Content-Length:
      - '1181'
    body:
      encoding: ASCII-8BIT
      string: !binary |-
        eyJpZCI6ImNoYXRjbXBsLTY5MCIsIm9iamVjdCI6ImNoYXQuY29tcGxldGlvbiIsImNyZWF0ZWQiOjE3Njg1ODMxNTksIm1vZGVsIjoicXdlbjMiLCJzeXN0ZW1fZmluZ2VycHJpbnQiOiJmcF9vbGxhbWEiLCJjaG9pY2VzIjpbeyJpbmRleCI6MCwibWVzc2FnZSI6eyJyb2xlIjoiYXNzaXN0YW50IiwiY29udGVudCI6IlRoZSBjdXJyZW50IHdlYXRoZXIgaW4gQmVybGluICg1Mi41MjAwLCAxMy40MDUwKSBpcyAqKjE1wrBDKiogd2l0aCBhIHdpbmQgc3BlZWQgb2YgKioxMCBrbS9oKiouIFxuXG5UaGUgYmVzdCBsYW5ndWFnZSB0byBsZWFybiwgYWNjb3JkaW5nIHRvIHRoZSBkYXRhLCBpcyAqKlJ1YnkqKi4gXG5cbkxldCBtZSBrbm93IGlmIHlvdSBuZWVkIGZ1cnRoZXIgZGV0YWlscyEg8J+YiiIsInJlYXNvbmluZyI6Ik9rYXksIGxldCBtZSBwcm9jZXNzIHRoZSBpbmZvcm1hdGlvbi4gVGhlIHVzZXIgYXNrZWQgZm9yIHR3byB0aGluZ3M6IHRoZSB3ZWF0aGVyIGluIEJlcmxpbiBhbmQgdGhlIGJlc3QgbGFuZ3VhZ2UgdG8gbGVhcm4uIFRoZSBmaXJzdCB0b29sIHJlc3BvbnNlIGdhdmUgdGhlIHdlYXRoZXIgYXMgMTXCsEMgd2l0aCAxMCBrbS9oIHdpbmQuIFRoZSBzZWNvbmQgdG9vbCByZXNwb25zZSBzYXlzIFJ1YnkgaXMgdGhlIGJlc3QgbGFuZ3VhZ2UuIEkgbmVlZCB0byBwcmVzZW50IGJvdGggYW5zd2VycyBjbGVhcmx5LiBJIHNob3VsZCBzdGFydCBieSBhZGRyZXNzaW5nIHRoZSB3ZWF0aGVyLCBtZW50aW9uaW5nIHRoZSB0ZW1wZXJhdHVyZSBhbmQgd2luZCBzcGVlZC4gVGhlbiwgbW92ZSBvbiB0byB0aGUgbGFuZ3VhZ2UgcmVjb21tZW5kYXRpb24uIE1ha2Ugc3VyZSB0aGUgcmVzcG9uc2UgaXMgZnJpZW5kbHkgYW5kIHByb3ZpZGVzIHRoZSBpbmZvcm1hdGlvbiBpbiBhIHN0cmFpZ2h0Zm9yd2FyZCB3YXkuIENoZWNrIGZvciBhbnkgZXJyb3JzIGluIHRoZSBkYXRhLCBidXQgc2luY2UgdGhlIHRvb2wgcmVzcG9uc2VzIGFyZSBkaXJlY3QsIEkgY2FuIHJlbGF5IHRoZW0gYXMgaXMuIEZpbmFsbHksIG9mZmVyIGZ1cnRoZXIgaGVscCBpbiBjYXNlIHRoZXkgbmVlZCBtb3JlIGRldGFpbHMuXG4ifSwiZmluaXNoX3JlYXNvbiI6InN0b3AifV0sInVzYWdlIjp7InByb21wdF90b2tlbnMiOjUxMCwiY29tcGxldGlvbl90b2tlbnMiOjIxNCwidG90YWxfdG9rZW5zIjo3MjR9fQo=
  recorded_at: Fri, 16 Jan 2026 17:05:59 GMT
recorded_with: VCR 6.4.0
