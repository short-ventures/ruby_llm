---
http_interactions:
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 16 Jan 2026 17:20:48 GMT
      - Fri, 16 Jan 2026 17:20:48 GMT
      Server:
      - uvicorn
      - uvicorn
      Keep-Alive:
      - timeout=15, max=100
      Content-Length:
      - '1777'
      Content-Type:
      - application/json
      X-Request-Accepted-At:
      - "<X_REQUEST_ID>"
      X-Request-Id:
      - "<X_REQUEST_ID>"
      Access-Control-Allow-Origin:
      - "*"
    body:
      encoding: UTF-8
      string: '{"choices":[{"finish_reason":"stop","index":0,"message":{"content":"\n\nThe
        file `ruby.txt` is a plain text file containing the following content:\n\n```\nRuby
        is the best.\n```\n\nThe MIME type `text/plain` indicates it''s a simple text
        document with no formatting or special encoding. The content is straightforward
        and consists of a single sentence.","reasoning_content":"\nOkay, the user
        is asking what''s in the file named ruby.txt. Let me check the information
        provided. The file has a mime type of text/plain, which means it''s a plain
        text file. The content given is \"Ruby is the best.\" So, the file is a simple
        text file containing that exact sentence. I should confirm that there''s no
        additional content beyond that. Since the user might be testing if I can parse
        file data correctly, I need to make sure I''m not missing any hidden characters
        or formatting. The answer should clearly state the content of the file as
        provided. Also, maybe the user is checking if I can recognize the mime type
        and confirm it''s text. I should mention both the mime type and the content.
        Let me structure the response to be clear and concise, ensuring all details
        are covered without unnecessary information.\n","role":"assistant"}}],"created":1768584050,"id":"chatcmpl-uzpRqcaFNzBUl00ciA2KtGpJ2oFk2I0F","model":"qwen3","object":"chat.completion","usage":{"completion_tokens":232,"completion_tokens_details":{"accepted_prediction_tokens":0,"reasoning_tokens":172,"rejected_prediction_tokens":0},"draft_tokens":0,"draft_tokens_acceptance":0.0,"prompt_tokens":34,"prompt_tokens_details":{"cached_tokens":2},"prompt_tokens_per_second":2154.0800810947794,"time_per_output_token_ms":7.885189655172414,"time_to_first_token_ms":15.784,"tokens_per_second":126.82003144262158,"total_tokens":266}}'
  recorded_at: Fri, 16 Jan 2026 17:20:50 GMT
- request:
    method: post
    uri: "<GPUSTACK_API_BASE>/chat/completions"
    body:
      encoding: UTF-8
      string: '{"model":"qwen3","messages":[{"role":"user","content":[{"type":"text","text":"What''s
        in this file?"},{"type":"text","text":"<file name=''ruby.txt'' mime_type=''text/plain''>Ruby
        is the best.</file>"}]},{"role":"assistant","content":"\n\nThe file `ruby.txt`
        is a plain text file containing the following content:\n\n```\nRuby is the
        best.\n```\n\nThe MIME type `text/plain` indicates it''s a simple text document
        with no formatting or special encoding. The content is straightforward and
        consists of a single sentence.","reasoning":"\nOkay, the user is asking what''s
        in the file named ruby.txt. Let me check the information provided. The file
        has a mime type of text/plain, which means it''s a plain text file. The content
        given is \"Ruby is the best.\" So, the file is a simple text file containing
        that exact sentence. I should confirm that there''s no additional content
        beyond that. Since the user might be testing if I can parse file data correctly,
        I need to make sure I''m not missing any hidden characters or formatting.
        The answer should clearly state the content of the file as provided. Also,
        maybe the user is checking if I can recognize the mime type and confirm it''s
        text. I should mention both the mime type and the content. Let me structure
        the response to be clear and concise, ensuring all details are covered without
        unnecessary information.\n","reasoning_content":"\nOkay, the user is asking
        what''s in the file named ruby.txt. Let me check the information provided.
        The file has a mime type of text/plain, which means it''s a plain text file.
        The content given is \"Ruby is the best.\" So, the file is a simple text file
        containing that exact sentence. I should confirm that there''s no additional
        content beyond that. Since the user might be testing if I can parse file data
        correctly, I need to make sure I''m not missing any hidden characters or formatting.
        The answer should clearly state the content of the file as provided. Also,
        maybe the user is checking if I can recognize the mime type and confirm it''s
        text. I should mention both the mime type and the content. Let me structure
        the response to be clear and concise, ensuring all details are covered without
        unnecessary information.\n"},{"role":"user","content":[{"type":"text","text":"and
        in this one?"},{"type":"text","text":"<file name=''ruby.xml'' mime_type=''application/xml''><truism>Ruby
        is the best</truism></file>"}]}],"stream":false}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      Authorization:
      - Bearer <GPUSTACK_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Fri, 16 Jan 2026 17:20:49 GMT
      - Fri, 16 Jan 2026 17:20:50 GMT
      Server:
      - uvicorn
      - uvicorn
      Keep-Alive:
      - timeout=15, max=100
      Content-Length:
      - '2431'
      Content-Type:
      - application/json
      X-Request-Accepted-At:
      - "<X_REQUEST_ID>"
      X-Request-Id:
      - "<X_REQUEST_ID>"
      Access-Control-Allow-Origin:
      - "*"
    body:
      encoding: UTF-8
      string: '{"choices":[{"finish_reason":"stop","index":0,"message":{"content":"\n\nThe
        file `ruby.xml` is an XML document with the following content:\n\n```xml\n<truism>Ruby
        is the best</truism>\n```\n\n### Key details:\n1. **MIME Type**: `application/xml`
        indicates it''s an XML file, used for structured data.\n2. **Structure**:
        \n   - The root element is `<truism>`, which is a custom tag (not part of
        standard XML specifications).\n   - The text \"Ruby is the best\" is the content
        of this tag.\n3. **Purpose**: \n   - XML is often used to store or transport
        data in a hierarchical format.\n   - The `<truism>` tag might be part of a
        custom schema or application-specific format (e.g., a configuration file,
        data exchange format, etc.).\n\nThis file is similar to `ruby.txt` but encodes
        the same message in an XML structure. The `<truism>` tag is not a standard
        XML element, so its meaning depends on the context or schema defining it.","reasoning_content":"\nOkay,
        let''s see. The user provided another file, ruby.xml, with MIME type application/xml.
        The content is a <truism> tag containing \"Ruby is the best\". I need to explain
        what''s in this file.\n\nFirst, I should note the MIME type is XML, so it''s
        structured data. The file has a single <truism> element. I should mention
        that XML is used for storing and transporting data, and this is a simple example.
        The <truism> tag isn''t a standard XML tag, so maybe it''s a custom one. The
        content is the same as the previous file but wrapped in XML tags. I should
        explain the structure and note that the tag isn''t standard. Also, the user
        might be comparing XML vs plain text, or showing how data is structured differently.
        Maybe they''re testing if I can recognize XML elements and their purposes.
        I should make sure to highlight the difference from the previous text file
        and explain the XML structure clearly.\n","role":"assistant"}}],"created":1768584053,"id":"chatcmpl-n4oSvAkwdivFnWC2JWrdXD3YbvSRYdbw","model":"qwen3","object":"chat.completion","usage":{"completion_tokens":410,"completion_tokens_details":{"accepted_prediction_tokens":0,"reasoning_tokens":201,"rejected_prediction_tokens":0},"draft_tokens":0,"draft_tokens_acceptance":0.0,"prompt_tokens":132,"prompt_tokens_details":{"cached_tokens":32},"prompt_tokens_per_second":4289.474539368927,"time_per_output_token_ms":8.197070731707317,"time_to_first_token_ms":30.773,"tokens_per_second":121.9947994509639,"total_tokens":542}}'
  recorded_at: Fri, 16 Jan 2026 17:20:53 GMT
recorded_with: VCR 6.4.0
